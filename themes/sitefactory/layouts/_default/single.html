{{ define "main" }}
<article>
  {{ partial "breadcrumb.html" . }}
  <h1>{{ .Title }}</h1>
  {{ if not .Params.hideDate }}
  <div class="post-meta">
    <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
    {{ if ne (.Date.Format "2006-01-02") (.Lastmod.Format "2006-01-02") }}
    <span>Updated: {{ .Lastmod.Format "January 2, 2006" }}</span>
    {{ end }}
    {{ with .Site.Params.author }}<span class="author">By {{ . }}</span>{{ end }}
    <span class="reading-time">{{ .ReadingTime }} {{ i18n "minRead" }}</span>
  </div>
  {{ end }}
  {{ with .Params.tags }}
  <div class="tags">
    {{ range . }}<a href="{{ "tags/" | absURL }}{{ . | urlize }}/">{{ . }}</a> {{ end }}
  </div>
  {{ end }}
  {{ if and (gt .WordCount 500) (gt (len .TableOfContents) 100) }}
  <nav class="toc" aria-label="{{ i18n "tableOfContents" }}">
    <details open>
      <summary>{{ i18n "tableOfContents" }}</summary>
      {{ .TableOfContents }}
    </details>
  </nav>
  {{ end }}
  <div class="content">
    {{ .Content }}
  </div>
  {{ partial "author.html" . }}
  {{ partial "related.html" . }}
</article>
{{ end }}
